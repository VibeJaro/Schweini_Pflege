<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
  <title>Schweini: Stable & Fluffy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./styles_main.css">
</head>
<body>
  <div id="start-screen">
    <h1>ğŸ· Schweini</h1>
    <p>Wasch, spÃ¼l & fÃ¶hn das Schweinchen!</p>
    <button id="start-btn">Los geht's! âœ¨</button>
    <div class="easter-egg-hint">Tipp: 3x schnell auf die Nase tippen... ğŸ¤«</div>
  </div>

  <svg id="background-svg" viewBox="0 0 360 640" preserveAspectRatio="xMidYMid slice">
    <defs>
      <linearGradient id="skyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" style="stop-color:#87CEEB;stop-opacity:1" />
        <stop offset="60%" style="stop-color:#B0E0E6;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#E0F7FA;stop-opacity:1" />
      </linearGradient>
      <linearGradient id="meadowGradient" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" style="stop-color:#90EE90;stop-opacity:1" />
        <stop offset="50%" style="stop-color:#7CCD7C;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#228B22;stop-opacity:1" />
      </linearGradient>
    </defs>
    <rect x="0" y="0" width="360" height="640" fill="url(#skyGradient)"/>
    <g opacity="0.9">
      <ellipse cx="60" cy="80" rx="35" ry="20" fill="white"/>
      <ellipse cx="80" cy="70" rx="25" ry="18" fill="white"/>
      <ellipse cx="280" cy="50" rx="30" ry="18" fill="white"/>
      <ellipse cx="300" cy="45" rx="22" ry="15" fill="white"/>
      <ellipse cx="180" cy="30" rx="28" ry="16" fill="white"/>
    </g>
    <path d="M0,400 Q90,380 180,400 Q270,420 360,400 L360,640 L0,640 Z" fill="url(#meadowGradient)"/>
    <path d="M0,450 Q60,430 120,450 Q180,470 240,450 Q300,430 360,450 L360,640 L0,640 Z" fill="#3CB371" opacity="0.6"/>
    <circle cx="320" cy="60" r="25" fill="#FFD700" opacity="0.9"/>
    <circle cx="320" cy="60" r="30" fill="#FFD700" opacity="0.3"/>
  </svg>

  <div id="app-container">
    <div class="game-stats">
      <span id="game-stars" class="star-rating">
        <span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span>
      </span>
      <span id="attempt-count">Versuch: 1</span>
    </div>
    <div class="high-score" id="high-score">Best: -</div>
    <button id="restart-btn" class="restart-btn">Nochmal spielen! ğŸ”„</button>

    <div class="status-pill" id="status-container">
      <span id="status-text">Einseifen!</span>
      <div class="progress-track"><div class="progress-fill" id="progress-bar"></div></div>
    </div>

    <div id="game-canvas-area">
      <div class="pig-shadow"></div>

      <div id="outfit-layer" aria-hidden="true"></div>

      <svg id="duck-overlay" viewBox="0 0 60 60" aria-label="Ente">
        <path d="M45,25 Q55,15 50,5 Q52,20 45,25" fill="#FFA500"/>
        <ellipse id="duck-body" cx="30" cy="30" rx="20" ry="15" fill="#FFD700"/>
        <ellipse cx="25" cy="28" rx="10" ry="8" fill="#FFC800"/>
        <circle cx="15" cy="18" r="12" fill="#FFD700"/>
        <ellipse cx="5" cy="20" rx="6" ry="4" fill="#FF8C00"/>
        <circle cx="12" cy="15" r="3" fill="#1f2937"/>
      </svg>

      <svg id="pig-structure-svg" viewBox="0 0 360 500">
        <defs>
          <linearGradient id="skinGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#fce7f3;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#fbcfe8;stop-opacity:1" />
          </linearGradient>
        </defs>
        <g id="g-leg-l" transform-origin="120 340"><circle cx="120" cy="360" r="35" fill="url(#skinGradient)"/></g>
        <g id="g-leg-r" transform-origin="240 340"><circle cx="240" cy="360" r="35" fill="url(#skinGradient)"/></g>
        <g id="g-body" transform-origin="180 300">
          <circle cx="180" cy="260" r="105" fill="url(#skinGradient)"/>
          <ellipse cx="180" cy="280" rx="75" ry="65" fill="#ef4444"/>
        </g>
        <g id="g-arm-l" transform-origin="110 210"><circle cx="90" cy="220" r="30" fill="url(#skinGradient)"/></g>
        <g id="g-arm-r" transform-origin="250 210"><circle cx="270" cy="220" r="30" fill="url(#skinGradient)"/></g>
        <g id="g-head" transform-origin="180 190">
          <g id="g-ear-l" transform-origin="125 95"><ellipse cx="100" cy="80" rx="30" ry="40" transform="rotate(-20 100 80)" fill="url(#skinGradient)"/></g>
          <g id="g-ear-r" transform-origin="235 95"><ellipse cx="260" cy="80" rx="30" ry="40" transform="rotate(20 260 80)" fill="url(#skinGradient)"/></g>
          <circle cx="180" cy="140" r="95" fill="url(#skinGradient)"/>
          <g id="g-bow" transform="translate(180, 65)">
            <ellipse cx="-18" cy="0" rx="18" ry="12" fill="#ec4899" transform="rotate(-15)"/>
            <ellipse cx="18" cy="0" rx="18" ry="12" fill="#ec4899" transform="rotate(15)"/>
            <circle cx="0" cy="0" r="8" fill="#db2777"/>
          </g>
          <g transform="translate(0, -20)">
            <circle cx="145" cy="140" r="5" fill="#1f2937"/>
            <circle cx="215" cy="140" r="5" fill="#1f2937"/>
          </g>
          <g transform="translate(180, 170)">
            <ellipse cx="0" cy="0" rx="40" ry="30" fill="#fbcfe8" stroke="#f472b6" stroke-width="2"/>
            <circle cx="-12" cy="-2" r="4" fill="#be185d" opacity="0.6"/>
            <circle cx="12" cy="-2" r="4" fill="#be185d" opacity="0.6"/>
          </g>
        </g>
      </svg>
      <canvas id="fur-canvas"></canvas>
    </div>

    <div class="toolbar">
      <button class="tool-btn active sponge" id="btn-sponge" aria-label="Seife"><i class="fas fa-soap"></i><span>Seife</span></button>
      <button class="tool-btn hose" id="btn-hose" aria-label="SpÃ¼len"><i class="fas fa-shower"></i><span>SpÃ¼len</span></button>
      <button class="tool-btn dryer" id="btn-dryer" aria-label="Trocknen"><i class="fas fa-wind"></i><span>Trocknen</span></button>
    </div>

    <div id="dressup-panel" class="dressup-panel" aria-live="polite">
      <div class="dressup-header">
        <span class="dressup-title">Style-Schrank</span>
        <span class="dressup-hint">Ziehen oder tippen zum Wechseln</span>
      </div>
      <div id="dressup-categories" class="dressup-categories"></div>
      <div id="dressup-tray" class="dressup-tray"></div>
      <button id="remove-all-btn" class="remove-all-btn">Alles ausziehen ğŸ’¥</button>
    </div>
  </div>

  <script type="module" src="./game.js"></script>
</body>
</html>
